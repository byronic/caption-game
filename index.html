<html>
<head>

<link rel="stylesheet" type="text/css" href="style.css" />

<script type="text/javascript">

///Chooses a random image, asserting the following conditions:
///  1. Images are in the /img directory
///  2. Images are in the format <number>.png, i.e. 0.png, 1.png, etc and that there are no gaps
///  3. The highest numbered image is equal to MAX_IMAGE minus 1
var MAX_IMAGE = 3;
function chooseRandomImage()
{
	// generate a random integer between 0 and MAX_IMAGE
	var num = Math.floor((Math.random()*MAX_IMAGE));
	// replace the image in div "imgz" with the image
	//first, set up code:
	var out = '<img src="' + num.toString() + '.png" \>';
	//throw the code unceremoniously into the appropriate div
	document.getElementById('imgz').innerHTML=out;
}

function performCaption()
{
	// Place the caption! Centered, please.
	var out ="<br />";
	out += "<p>" + document.getElementById('inp_0').value + "</p><br /><br />";
	// add reset button
	out += '<form><button type="button" value="Print" onclick="window.print()">Print</button>&nbsp;&nbsp;&nbsp;&nbsp;<button type="button" value="Reset" onclick="initForm()">Reset</button></form>';
	document.getElementById('captionarea').innerHTML=out;
	//TODO: Add 'submit to contest', perhaps?
}

function initForm()
{
	//initializes, or re-initializes, the caption form
	var out='<form><br /><br /><input type="text" id="inp_0" /><br /><br /><br /><button type="button" value="Submit Caption" onclick="performCaption()">Post Caption!</button></form>';
	//place the above code into the appropriate div
	document.getElementById('captionarea').innerHTML=out;
}

</script>

</head>

<body>
<div id="shell">

<div id="topbar" class="infobar">
<p class="leftways">Caption Contest Game</p>
</div><!--/topbar-->

<div id="formbit">
<div id="imgz"> 
<script type="text/javascript">chooseRandomImage();</script>
</div><!--/imgz-->
<div id="captionarea">
<script type="text/javascript">initForm();</script>
</div><!--/captionarea-->
</div><!--/formbit-->

<div id="bottombar" class="infobar">
</div><!--/bottombar-->

</div><!--/shell-->
</body>

<!--turns out the butler did it-->
</html>
